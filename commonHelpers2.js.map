{"version":3,"file":"commonHelpers2.js","sources":["../src/js/refs.js","../src/js/data.js","../src/js/task-1.js"],"sourcesContent":["export const refs = {\n  loginForm: document.querySelector('#login-form'),\n};\n","export const USER_DATA = {\n  email: 'user@mail.com',\n  password: '123',\n};\n\nexport const STORAGE_KEY = 'login-form-data';\n","// Якщо імейл і пароль користувача збігаються, зберігайте дані з форми при сабмите\n// у локальне сховище і змінюй кнопку login на logout і роби поля введення\n// Недоступними зміни.\n\n// При перезавантаженні сторінки, якщо користувач залогінений, ми маємо бачити logout-кнопку\n// та недоступні для зміни поля з даними користувача.\n// Клік по кнопці logout повертає все до початкового вигляду і видаляє дані користувача\n// З локального сховища.\n\n// Якщо введені дані не збігаються з потрібними даними, викликати аlert і\n// повідомляти про помилку.\n\nimport { refs } from './refs';\nimport { STORAGE_KEY } from './data';\nimport { USER_DATA } from './data';\n\nconst { email, password, button } = refs.loginForm.elements;\n\nrefs.loginForm.addEventListener('submit', onLoginFormSubmit);\n\nconst savedData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n\nif (savedData) {\n  email.value = savedData.email;\n  password.value = savedData.password;\n  button.textContent = 'Logout';\n  email.disabled = true;\n  password.disabled = true;\n}\n\nfunction onLoginFormSubmit(event) {\n  event.preventDefault();\n  const isUserDataValid =\n    email.value.trim() !== USER_DATA.email ||\n    password.value.trim() !== USER_DATA.password;\n\n  if (isUserDataValid) {\n    alert('Email or Password invalid');\n    return;\n  }\n\n  if (button.textContent === 'Logout') {\n    button.textContent = 'Login';\n    email.disabled = false;\n    password.disabled = false;\n    event.target.reset();\n    localStorage.removeItem(STORAGE_KEY);\n    return;\n  }\n\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(USER_DATA));\n  button.textContent = 'Logout';\n  email.disabled = true;\n  password.disabled = true;\n}\n"],"names":["refs","USER_DATA","STORAGE_KEY","email","password","button","onLoginFormSubmit","savedData","event"],"mappings":"oDAAO,MAAMA,EAAO,CAClB,UAAW,SAAS,cAAc,aAAa,CACjD,ECFaC,EAAY,CACvB,MAAO,gBACP,SAAU,KACZ,EAEaC,EAAc,kBCWrB,CAAE,MAAAC,EAAO,SAAAC,EAAU,OAAAC,CAAQ,EAAGL,EAAK,UAAU,SAEnDA,EAAK,UAAU,iBAAiB,SAAUM,CAAiB,EAE3D,MAAMC,EAAY,KAAK,MAAM,aAAa,QAAQL,CAAW,CAAC,EAE1DK,IACFJ,EAAM,MAAQI,EAAU,MACxBH,EAAS,MAAQG,EAAU,SAC3BF,EAAO,YAAc,SACrBF,EAAM,SAAW,GACjBC,EAAS,SAAW,IAGtB,SAASE,EAAkBE,EAAO,CAMhC,GALAA,EAAM,eAAc,EAElBL,EAAM,MAAM,KAAM,IAAKF,EAAU,OACjCG,EAAS,MAAM,SAAWH,EAAU,SAEjB,CACnB,MAAM,2BAA2B,EACjC,MACD,CAED,GAAII,EAAO,cAAgB,SAAU,CACnCA,EAAO,YAAc,QACrBF,EAAM,SAAW,GACjBC,EAAS,SAAW,GACpBI,EAAM,OAAO,QACb,aAAa,WAAWN,CAAW,EACnC,MACD,CAED,aAAa,QAAQA,EAAa,KAAK,UAAUD,CAAS,CAAC,EAC3DI,EAAO,YAAc,SACrBF,EAAM,SAAW,GACjBC,EAAS,SAAW,EACtB"}